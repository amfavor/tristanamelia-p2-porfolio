---
title: "R Coding Exercise"
---


```{r}
#installed and calling dslabs, tidyverse
library(dslabs)
library(tidyverse)
library(ggplot2)

#open help page for gapminder data and explore the data structure, class, and contents
help(gapminder) #help page
str(gapminder) #structure
summary(gapminder) #contents
class(gapminder) #class

gapminder
```

```{r}
#filtering gapminder data to include only Africa
africadata = dplyr::filter(gapminder, continent == "Africa")
str(africadata) #explore structure
summary(africadata) #explore filtered data
```
```{r}
#selection of variables from africadata
ad1 = dplyr::select(africadata, infant_mortality, life_expectancy) #selecting infant_mortality and #life expectancy

ad2 = dplyr::select(africadata, population, life_expectancy) #selecting pop and life expectancy

#exploring structure and data contents for each new data set
str(ad1) #structure for ad1
str(ad2) #structure for ad2
summary(ad1) #content summary for ad1
summary(ad2) #content summary for ad2
```
```{r}
plot(ad1$infant_mortality, ad1$life_expectancy)
#plot(ad2$population, ad2$life_expectancy)

plot2 = ggplot(gapminder, aes(log10(population), life_expectancy)) + geom_point()
plot2
```
As infant mortality rates increase, life expectancy decreases. As population increases, life expectancy increases, but only up to a certain population amount before the population becomes detrimental to life expectancy and "resets."

```{r}
#filter and select null infant mortality years in africa data
adna <- africadata %>% dplyr::filter(is.na(infant_mortality)) %>% dplyr::select(year)
adna$year #print all years with null infant mortality

#filtering to only the year 2000
ad2000 <- africadata %>% dplyr::filter(year == 2000)
summary(ad2000) #summary of contents
str(ad2000) #structure
```
```{r}
#plotting infant mortality by life expectancy for year 2000
plot(ad2000$infant_mortality, ad2000$life_expectancy)
#plotting life population by life expectancy for year 2000 on population axis scaled by log10
plot3 = ggplot(ad2000, aes(log10(population), life_expectancy)) + geom_point()
plot3 #print plot
```
```{r}
#life_expectancy~infant_mortality model fit for year 2000
inf_le_fit = lm(life_expectancy~infant_mortality, data = ad2000, )
##life_expectancy~population model fit for year 2000
pop_le_fit = lm(life_expectancy~population, data = ad2000)

summary(inf_le_fit)
summary(pop_le_fit)
```
I created two linear models using lm() function with life expectancy as the dependent variable for both infant mortality and population as the single predictor. 
Based on the fitted models, population is more significant than infant mortality, with a corresponding high r-squared value. The best model would be the population model.


